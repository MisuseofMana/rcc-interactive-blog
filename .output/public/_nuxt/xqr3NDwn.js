import{r,E as l,h as m,e as p,l as g,f as u,B as d}from"./DAMA_ESs.js";const v={__name:"SemioticImage",props:{photo:Object},setup(c){const e=c,s=r(),n=r("");return l(()=>{const o=s.value.getContext("2d"),a=new Image;a.src=e.photo.imageLink,o.globalCompositeOperation="normal",a.setAttribute("crossorigin","anonymous"),a.onload=()=>{o.drawImage(a,0,0,700,466);const t=new Image;t.src=`/images/semiotics/${e.photo.semioticValue}.png`,o.globalCompositeOperation=e.photo.renderMode,t.setAttribute("crossorigin","anonymous"),t.onload=()=>{o.drawImage(t,e.photo.overlayX,e.photo.overlayY,100,100);const i=s.value.toDataURL("image/webp");n.value=i}}}),(o,a)=>(m(),p("span",null,[g("canvas",{class:"d-none",ref_key:"semioticCanvas",ref:s,width:"700",height:"466"},null,512),u(d,{contain:"",src:n.value,class:"realmImage","lazy-src":"/images/mocks/placeholder-wide.jpg","aspect-ratio":"1.5"},null,8,["src"])]))}};export{v as default};
