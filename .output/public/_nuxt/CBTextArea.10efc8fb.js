import{G as K,ac as L,j as V,r as m,f as X,ai as x,A as Z,aP as ee,a as n,N as I,F as P,C as N,a9 as te,b0 as ae,ar as A,aR as ne,ad as le,aY as oe,J as re,P as ie,o as ue,c as se,u as G,Q as ce}from"./entry.af4b25f0.js";/* empty css                   */import{m as de,c as fe,V as ve,e as me,f as xe}from"./forwardRefs.a44f5a39.js";import{m as ge,a as he,f as pe,V as ye}from"./VInput.6cafeb98.js";import{I as Ve}from"./index.26545022.js";import{u as Ce}from"./useRender.711bb119.js";import"./index.72f797fd.js";import"./loader.a28a0d31.js";import"./VProgressLinear.58e0b888.js";import"./rounded.2773415e.js";import"./tag.622ed0d5.js";import"./color.16bf09b2.js";import"./transition.c0b5a353.js";import"./density.a43ed496.js";import"./VIcon.4c30e4d0.js";const Fe=K({name:"VTextarea",directives:{Intersect:Ve},inheritAttrs:!1,props:{autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,hint:String,persistentHint:Boolean,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:e=>!isNaN(parseFloat(e))},maxRows:{type:[Number,String],validator:e=>!isNaN(parseFloat(e))},suffix:String,...ge(),...de()},emits:{"click:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,b){let{attrs:u,emit:f,slots:l}=b;const a=L(e,"modelValue"),{isFocused:i,focus:$,blur:z}=he(e),D=V(()=>typeof e.counterValue=="function"?e.counterValue(a.value):(a.value||"").toString().length),O=V(()=>{if(u.maxlength)return u.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter});function U(t,o){var r,d;!e.autofocus||!t||(r=o[0].target)==null||(d=r.focus)==null||d.call(r)}const R=m(),g=m(),S=m(""),h=m(),T=V(()=>i.value||e.persistentPlaceholder),_=V(()=>e.messages.length?e.messages:T.value||e.persistentHint?e.hint:"");function C(){if(h.value!==document.activeElement){var t;(t=h.value)==null||t.focus()}i.value||$()}function E(t){C(),f("click:control",t)}function M(t){t.stopPropagation(),C(),A(()=>{a.value="",ne(e["onClick:clear"],t)})}function Y(t){a.value=t.target.value}const s=m();function c(){e.autoGrow&&A(()=>{if(!s.value||!g.value)return;const t=getComputedStyle(s.value),o=getComputedStyle(g.value.$el),r=parseFloat(t.getPropertyValue("--v-field-padding-top"))+parseFloat(t.getPropertyValue("--v-input-padding-top"))+parseFloat(t.getPropertyValue("--v-field-padding-bottom")),d=s.value.scrollHeight,F=parseFloat(t.lineHeight),k=Math.max(parseFloat(e.rows)*F+r,parseFloat(o.getPropertyValue("--v-input-control-height"))),w=parseFloat(e.maxRows)*F+r||1/0;S.value=le(oe(d??0,k,w))})}X(c),x(a,c),x(()=>e.rows,c),x(()=>e.maxRows,c),x(()=>e.density,c);let p;return x(s,t=>{if(t)p=new ResizeObserver(c),p.observe(s.value);else{var o;(o=p)==null||o.disconnect()}}),Z(()=>{var t;(t=p)==null||t.disconnect()}),Ce(()=>{const t=!!(l.counter||e.counter||e.counterValue),o=!!(t||l.details),[r,d]=ee(u),[{modelValue:F,...k}]=pe(e),[w]=fe(e);return n(ye,I({ref:R,modelValue:a.value,"onUpdate:modelValue":v=>a.value=v,class:["v-textarea v-text-field",{"v-textarea--prefixed":e.prefix,"v-textarea--suffixed":e.suffix,"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-textarea--auto-grow":e.autoGrow,"v-textarea--no-resize":e.noResize||e.autoGrow,"v-text-field--flush-details":["plain","underlined"].includes(e.variant)}],"onClick:prepend":e["onClick:prepend"],"onClick:append":e["onClick:append"]},r,k,{focused:i.value,messages:_.value}),{...l,default:v=>{let{isDisabled:y,isDirty:B,isReadonly:j,isValid:J}=v;return n(ve,I({ref:g,style:{"--v-textarea-control-height":S.value},"onClick:control":E,"onClick:clear":M,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"],role:"textbox"},w,{active:T.value||B.value,dirty:B.value||e.dirty,focused:i.value,error:J.value===!1}),{...l,default:Q=>{let{props:{class:H,...W}}=Q;return n(P,null,[e.prefix&&n("span",{class:"v-text-field__prefix"},[e.prefix]),N(n("textarea",I({ref:h,class:H,value:a.value,onInput:Y,autofocus:e.autofocus,readonly:j.value,disabled:y.value,placeholder:e.placeholder,rows:e.rows,name:e.name,onFocus:C,onBlur:z},W,d),null),[[te("intersect"),{handler:U},null,{once:!0}]]),e.autoGrow&&N(n("textarea",{class:[H,"v-textarea__sizer"],"onUpdate:modelValue":q=>a.value=q,ref:s,readonly:!0,"aria-hidden":"true"},null),[[ae,a.value]]),e.suffix&&n("span",{class:"v-text-field__suffix"},[e.suffix])])}})},details:o?v=>{var y;return n(P,null,[(y=l.details)==null?void 0:y.call(l,v),t&&n(P,null,[n("span",null,null),n(me,{active:e.persistentCounter||i.value,value:D.value,max:O.value},l.counter)])])}:void 0})}),xe({},R,g,h)}}),De={__name:"CBTextArea",props:{label:{type:String,default:"Text Field"},name:{type:String,default:"textfield"},errors:{type:String,default:""},hint:{type:String,default:"YOU FORGOT TO WRITE THE HINT"},items:{type:Array,default:()=>["Some","Default","Options"]},counter:{type:String,default:"200"}},setup(e){const u=re(e,"name"),{value:f}=ie(u,void 0);return(l,a)=>(ue(),se(Fe,{class:"text-primary primary","prepend-icon":"mdi-comment",variant:"filled",name:G(u),label:e.label,"error-messages":e.errors,counter:e.counter,density:"compact",hint:e.hint,"auto-grow":"",height:"100px",modelValue:G(f),"onUpdate:modelValue":a[0]||(a[0]=i=>ce(f)?f.value=i:null)},null,8,["name","label","error-messages","counter","hint","modelValue"]))}};export{De as default};
