import{G as Q,am as W,K as Y,ac as _,j as s,a$ as A,r as h,ai as q,aP as X,a as o,N as V,F as S,aR as w,ar as Z,J as ee,P as le,o as te,c as ae,u as N,Q as ne}from"./entry.af4b25f0.js";import{m as oe,c as ie,V as re,e as ue,f as se}from"./forwardRefs.a44f5a39.js";import{m as ce,f as de,V as me}from"./VInput.6cafeb98.js";import{V as fe}from"./VChip.b3e2a517.js";import{u as pe}from"./useRender.711bb119.js";import"./index.72f797fd.js";import"./loader.a28a0d31.js";import"./VProgressLinear.58e0b888.js";import"./rounded.2773415e.js";import"./tag.622ed0d5.js";import"./color.16bf09b2.js";import"./transition.c0b5a353.js";import"./density.a43ed496.js";import"./VIcon.4c30e4d0.js";import"./group.2a175b20.js";import"./router.4d4a04cb.js";import"./elevation.c0c3c7d4.js";import"./index.8efa490c.js";import"./VAvatar.1cb02f40.js";import"./VImg.732dd834.js";import"./index.26545022.js";import"./dimensions.85878954.js";const ve=Q({name:"VFileInput",inheritAttrs:!1,props:{chips:Boolean,counter:Boolean,counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},multiple:Boolean,hint:String,persistentHint:Boolean,placeholder:String,showSize:{type:[Boolean,Number],default:!1,validator:e=>typeof e=="boolean"||[1e3,1024].includes(e)},...ce({prependIcon:"$file"}),modelValue:{type:Array,default:()=>[],validator:e=>W(e).every(c=>c!=null&&typeof c=="object")},...oe({clearable:!0})},emits:{"click:control":e=>!0,"update:modelValue":e=>!0},setup(e,c){let{attrs:v,emit:d,slots:n}=c;const{t:m}=Y(),a=_(e,"modelValue"),I=s(()=>typeof e.showSize!="boolean"?e.showSize:void 0),b=s(()=>(a.value??[]).reduce((l,t)=>{let{size:f=0}=t;return l+f},0)),F=s(()=>A(b.value,I.value)),C=s(()=>(a.value??[]).map(l=>{const{name:t="",size:f=0}=l;return e.showSize?`${t} (${A(f,I.value)})`:t})),T=s(()=>{var l;const t=((l=a.value)==null?void 0:l.length)??0;return e.showSize?m(e.counterSizeString,t,F.value):m(e.counterString,t)}),R=h(),B=h(),u=h(!1),i=h(),O=s(()=>e.messages.length?e.messages:e.persistentHint?e.hint:"");function k(){if(i.value!==document.activeElement){var l;(l=i.value)==null||l.focus()}u.value||(u.value=!0)}function D(l){w(e["onClick:prepend"],l),P(l)}function P(l){var t;(t=i.value)==null||t.click(),d("click:control",l)}function E(l){l.stopPropagation(),k(),Z(()=>{a.value=[],w(e["onClick:clear"],l)})}return q(a,l=>{(!Array.isArray(l)||!l.length)&&i.value&&(i.value.value="")}),pe(()=>{const l=!!(n.counter||e.counter),t=!!(l||n.details),[f,H]=X(v),[{modelValue:ye,...j}]=de(e),[x]=ie(e);return o(me,V({ref:R,modelValue:a.value,"onUpdate:modelValue":p=>a.value=p,class:"v-file-input","onClick:prepend":D,"onClick:append":e["onClick:append"]},f,j,{focused:u.value,messages:O.value}),{...n,default:p=>{let{id:y,isDisabled:g,isDirty:z,isReadonly:M,isValid:U}=p;return o(re,V({ref:B,"prepend-icon":e.prependIcon,"onClick:control":P,"onClick:clear":E,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},x,{id:y.value,active:z.value||u.value,dirty:z.value,focused:u.value,error:U.value===!1}),{...n,default:G=>{var $;let{props:{class:J,...K}}=G;return o(S,null,[o("input",V({ref:i,type:"file",readonly:M.value,disabled:g.value,multiple:e.multiple,name:e.name,onClick:r=>{r.stopPropagation(),k()},onChange:r=>{if(!r.target)return;const L=r.target;a.value=[...L.files??[]]},onFocus:k,onBlur:()=>u.value=!1},K,H),null),o("div",{class:J},[!!(($=a.value)!=null&&$.length)&&(n.selection?n.selection({fileNames:C.value,totalBytes:b.value,totalBytesReadable:F.value}):e.chips?C.value.map(r=>o(fe,{key:r,size:"small",color:e.color},{default:()=>[r]})):C.value.join(", "))])])}})},details:t?p=>{var y,g;return o(S,null,[(y=n.details)==null?void 0:y.call(n,p),l&&o(S,null,[o("span",null,null),o(ue,{active:!!((g=a.value)!=null&&g.length),value:T.value},n.counter)])])}:void 0})}),se({},R,B,i)}}),je={__name:"CBFileInput",props:{label:{type:String,default:"File Input"},name:{type:String,default:"fileinput"},errors:{type:[String,Array],default:()=>[]},hint:{type:String,default:"YOU FORGOT TO WRITE THE HINT"},items:{type:Array,default:()=>["Some","Default","Options"]},disabled:{type:Boolean,default:!1}},setup(e){const v=ee(e,"name"),{value:d}=le(v,void 0);return(n,m)=>(te(),ae(ve,{label:e.label,"error-messages":e.errors,hint:e.hint,name:N(v),"prepend-icon":"mdi-camera",disabled:e.disabled,modelValue:N(d),"onUpdate:modelValue":m[0]||(m[0]=a=>ne(d)?d.value=a:null)},null,8,["label","error-messages","hint","name","disabled","modelValue"]))}};export{je as default};
