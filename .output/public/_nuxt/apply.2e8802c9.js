import b from"./CBTextField.635aa0b5.js";import g from"./CBPasswordField.b3bdfdb4.js";import{_ as P}from"./backButton.3ed8edb3.js";import{_ as k}from"./layout.e323096b.js";import{k as C,l as V,m as B,r as U,q as N,s as $,v as q,x as A,y as S,o as v,c as E,w as r,a as e,u as t,e as n,t as F}from"./entry.af4b25f0.js";import{c as O,a as m}from"./index.esm.f2d381c7.js";import{V as u,a as o}from"./VRow.afde100a.js";import{V as T}from"./VCard.1acd0fd0.js";import{V as W}from"./VContainer.84ccdb61.js";import"./VTextField.6cbfc730.js";/* empty css                   */import"./forwardRefs.a44f5a39.js";import"./index.72f797fd.js";import"./VInput.6cafeb98.js";import"./useRender.711bb119.js";import"./density.a43ed496.js";import"./VIcon.4c30e4d0.js";import"./tag.622ed0d5.js";import"./color.16bf09b2.js";import"./transition.c0b5a353.js";import"./loader.a28a0d31.js";import"./VProgressLinear.58e0b888.js";import"./rounded.2773415e.js";import"./index.26545022.js";import"./VBtn.b508a718.js";import"./elevation.c0c3c7d4.js";import"./router.4d4a04cb.js";import"./group.2a175b20.js";import"./index.8efa490c.js";import"./dimensions.85878954.js";import"./position.6ecf00cf.js";import"./VProgressCircular.a0eacb68.js";import"./resizeObserver.f5995fd7.js";import"./createSimpleFunctional.e260b764.js";import"./VAvatar.1cb02f40.js";import"./VImg.732dd834.js";const z=n("h1",{class:"text-h1 text-center mb-5"},"SIGN UP",-1),I=n("p",{class:"text-body-1 mb-3"},"Well done, you are hereby granted category one Operator clearance, pending review.",-1),R=n("p",{class:"text-body-1 mb-10"},"Submit the following form and await further instructions.",-1),D={class:"text-center text-deep-orange-darken-4 text-body-1 mb-3"},Be={__name:"apply",setup(G){const{handleSubmit:f,values:_,errors:i}=C({initialValues:{username:"",email:"",password:"",confirmPassword:""},validationSchema:O().shape({username:m().matches(/^[a-zA-Z]+$/,'Username may only contain letters "a" to "z"').min(5).max(20).required().label("Username"),email:m().email().required().label("Email"),password:m().min(9).max(20).required().label("Password"),confirmPassword:m().test("passwords-match","Passwords must match",s=>_.password===s).required().label("Confirm Password")})}),l=V(),h=B(),c=U(""),x=f(s=>{const p=s.email?s.email:`${s.username}@CBArchives.com`;N(l,p,s.password).then(()=>{$(l.currentUser,{displayName:s.username}),q(A(h,"users",l.currentUser.uid),{displayName:s.username}),S("/operations/control")}).catch(a=>{a&&(c.value="Sorry, something isn't quite right."),console.log(a)})});return(s,p)=>{const a=b,d=g,y=P,w=k;return v(),E(w,{name:"signup"},{default:r(()=>[e(W,{class:"my-5"},{default:r(()=>[e(u,null,{default:r(()=>[e(o,{cols:"12"},{default:r(()=>[e(T,{variant:"outlined",color:"primary",width:"100%",class:"px-15 py-6 text-primary"},{default:r(()=>[z,I,R,e(u,null,{default:r(()=>[e(o,{cols:"12",xl:"8",class:"offset-xl-2"},{default:r(()=>[e(a,{label:"Username *",name:"username",hint:"Your desired Operator identifier. Will be displayed alongside your realm submissions.","error-messages":t(i).username},null,8,["error-messages"])]),_:1}),e(o,{cols:"12",xl:"8",class:"offset-xl-2"},{default:r(()=>[e(a,{label:"Email",name:"email",hint:"An email to reach you at. Not necessary to make an account, though recommended.","error-messages":t(i).email},null,8,["error-messages"])]),_:1}),e(o,{cols:"12",xl:"8",class:"offset-xl-2"},{default:r(()=>[e(d,{name:"password",label:"Password *",hint:"Make it secure.",errors:t(i).password},null,8,["errors"])]),_:1}),e(o,{cols:"12",xl:"8",class:"offset-xl-2"},{default:r(()=>[e(d,{name:"confirmPassword",label:"Confirm Password *",hint:"Retype your password to make sure it's as intended.",errors:t(i).confirmPassword},null,8,["errors"])]),_:1}),e(o,{cols:"12",xl:"5",class:"offset-xl-2"},{default:r(()=>[n("p",D,F(c.value),1),e(y,{onClick:t(x),color:"primary-darken-1 mb-5",class:"text-primary",text:"Apply to the Operations Team"},null,8,["onClick"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}};export{Be as default};
