import B from"./CBTextField.255ef873.js";import E from"./CBPasswordField.4448870b.js";import{_ as S}from"./backButton.b4a42b8e.js";import{_ as N}from"./nuxt-link.67e2efab.js";import{_ as $}from"./layout.11a375a8.js";import{k as I,l as L,r as p,j as P,q as U,s as u,O as q,o as d,c as _,w as o,a as e,e as s,u as n,t as F,d as T,g as A}from"./entry.94ffdeeb.js";import{c as O,a as f}from"./index.esm.f2d381c7.js";import{V as j}from"./VContainer.26342d42.js";import{a as t,V as x}from"./VRow.874663fa.js";import{V as D}from"./VCard.9eec5110.js";import"./VTextField.5390ceef.js";/* empty css                   */import"./forwardRefs.14bdb9d9.js";import"./index.108b6c93.js";import"./VInput.6e31d692.js";import"./useRender.ee02d324.js";import"./density.5a2b29f1.js";import"./VIcon.a89c1bf3.js";import"./tag.6e0eec08.js";import"./color.08edc865.js";import"./transition.7408c173.js";import"./loader.0e188cc9.js";import"./VProgressLinear.7e39016e.js";import"./rounded.a3340ae4.js";import"./index.66b8fb70.js";import"./VBtn.d2531af0.js";import"./router.12029284.js";import"./group.e7d6c6fc.js";import"./index.5bd91e98.js";import"./dimensions.2a8a239a.js";import"./position.048a6b63.js";import"./VProgressCircular.6669da86.js";import"./resizeObserver.16ca977f.js";import"./createSimpleFunctional.433ad74c.js";import"./VAvatar.7d2681a0.js";import"./VImg.9336a433.js";const M={autocomplete:"off"},R={class:"text-center text-deep-orange-darken-4 text-body-1 mb-10"},Ee={__name:"login",setup(W){const{handleSubmit:h,values:r,errors:m}=I({initialValues:{username:"",email:""},validationSchema:O().shape({username:f().min(5).max(75).required().label("Username or Email"),password:f().min(9).max(20).required().label("Password")})}),g=L(),i=p(""),y=P(()=>r.username&&r.username.includes("@")?r.username:`${r.username}@crickburrow.com`),l=p(!1);U(()=>{if(localStorage.passedExam==="true"){l.value=!0;return}u("/brainwash")});const w=h(c=>{q(g,y.value,c.password).then(()=>{u("/operations/control")}).catch(a=>{a&&(i.value="Sorry, something doesn't look right."),console.log(a)})});return(c,a)=>{const k=B,V=E,b=S,v=N,C=$;return d(),_(C,{name:"admin"},{default:o(()=>[l.value?(d(),_(j,{key:0,class:"my-5"},{default:o(()=>[e(x,null,{default:o(()=>[e(t,{cols:"12"},{default:o(()=>[e(D,{variant:"outlined",color:"primary",width:"100%",class:"pa-15 text-primary"},{default:o(()=>[s("div",null,[s("form",M,[e(x,null,{default:o(()=>[e(t,{cols:"12",xl:"8",class:"offset-xl-2"},{default:o(()=>[e(k,{label:"Username or Email*",name:"username",hint:"If you did not provide an email address use you Username, otherwise use your Email.","error-messages":n(m).username},null,8,["error-messages"])]),_:1}),e(t,{cols:"12",xl:"8",class:"offset-xl-2"},{default:o(()=>[e(V,{name:"password",label:"Password *",autocomplete:"off",hint:"Enter your password.",errors:n(m).password},null,8,["errors"])]),_:1}),e(t,{cols:"12",xl:"5",class:"offset-xl-2 mb-5"},{default:o(()=>[s("p",R,F(i.value),1),e(b,{onClick:n(w),color:"primary-darken-1",class:"text-primary",text:"Log In"},null,8,["onClick"])]),_:1}),e(t,{cols:"12",xl:"3",class:"text-right text-subtitle-1 text-primary"},{default:o(()=>[e(v,{class:"text-primary text-decoration-none",to:"/apply"},{default:o(()=>[T(" Or Sign Up ")]),_:1})]),_:1})]),_:1})])])]),_:1})]),_:1})]),_:1})]),_:1})):A("",!0)]),_:1})}}};export{Ee as default};
