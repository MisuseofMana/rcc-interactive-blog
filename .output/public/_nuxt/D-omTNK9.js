import V from"./B36iU5hH.js";import B from"./imERVgiN.js";import{u as E,g as S,r as u,a8 as I,o as N,n as d,a9 as $,e as L,f as e,w as a,h as _,i as P,V as p,j as t,k as U,l as s,p as n,t as q,q as F,s as T,v as A,_ as j}from"./DAMA_ESs.js";import{_ as D}from"./D9lrTN7J.js";import{_ as M}from"./oG9SPVU0.js";import{c as O,a as f}from"./BfWrMDQT.js";import"./hLuk0Ajc.js";/* empty css        */import"./CAm4HU8_.js";import"./fgkmzgPu.js";import"./DAWpG5iD.js";import"./DWGaNmQL.js";const R=s("h1",{class:"text-h1 text-center mb-10"},"Log In",-1),W={autocomplete:"off"},z={class:"text-center text-deep-orange-darken-4 text-body-1 mb-10"},re={__name:"login",setup(G){const{handleSubmit:x,values:o,errors:l}=E({initialValues:{username:"",email:""},validationSchema:O().shape({username:f().min(5).max(75).required().label("Username or Email"),password:f().min(9).max(20).required().label("Password")})}),h=S(),i=u(""),g=I(()=>o.username&&o.username.includes("@")?o.username:`${o.username}@crickburrow.com`),m=u(!1);N(()=>{if(localStorage.passedExam==="true"){m.value=!0;return}d("/brainwash")});const y=x(c=>{$(h,g.value,c.password).then(()=>{d("/operations/control")}).catch(r=>{r&&(i.value="Sorry, something doesn't look right."),console.log(r)})});return(c,r)=>{const w=V,k=B,v=j,b=D,C=M;return _(),L("div",null,[e(C,{name:"admin"},{default:a(()=>[m.value?(_(),P(T,{key:0,class:"my-5"},{default:a(()=>[e(p,null,{default:a(()=>[e(t,{cols:"12"},{default:a(()=>[e(U,{variant:"outlined",color:"primary",width:"100%",class:"pa-15 text-primary"},{default:a(()=>[R,s("div",null,[s("form",W,[e(p,null,{default:a(()=>[e(t,{cols:"12",xl:"8",class:"offset-xl-2"},{default:a(()=>[e(w,{label:"Username or Email*",name:"username",hint:"If you did not provide an email address use you Username, otherwise use your Email.","error-messages":n(l).username},null,8,["error-messages"])]),_:1}),e(t,{cols:"12",xl:"8",class:"offset-xl-2"},{default:a(()=>[e(k,{name:"password",label:"Password *",autocomplete:"off",hint:"Enter your password.",errors:n(l).password},null,8,["errors"])]),_:1}),e(t,{cols:"12",xl:"5",class:"offset-xl-2 mb-5"},{default:a(()=>[s("p",z,q(i.value),1),e(v,{onClick:n(y),color:"primary-darken-1",class:"text-primary",text:"Log In"},null,8,["onClick"])]),_:1}),e(t,{cols:"12",xl:"3",class:"text-right text-subtitle-1 text-primary"},{default:a(()=>[e(b,{class:"text-primary text-decoration-none",to:"/apply"},{default:a(()=>[F(" Or Sign Up ")]),_:1})]),_:1})]),_:1})])])]),_:1})]),_:1})]),_:1})]),_:1})):A("",!0)]),_:1})])}}};export{re as default};
