import V from"./CBTextField.635aa0b5.js";import k from"./CBPasswordField.b3bdfdb4.js";import{_ as b}from"./backButton.3ed8edb3.js";import{_ as v}from"./nuxt-link.c96c7741.js";import{_ as C}from"./layout.e323096b.js";import{k as B,l as $,r as N,j as S,O as I,y as L,o as A,c as P,w as e,a as t,e as n,u as s,t as U,d as q}from"./entry.af4b25f0.js";import{c as F,a as c}from"./index.esm.f2d381c7.js";import{V as p,a as o}from"./VRow.afde100a.js";import{V as O}from"./VCard.1acd0fd0.js";import{V as T}from"./VContainer.84ccdb61.js";import"./VTextField.6cbfc730.js";/* empty css                   */import"./forwardRefs.a44f5a39.js";import"./index.72f797fd.js";import"./VInput.6cafeb98.js";import"./useRender.711bb119.js";import"./density.a43ed496.js";import"./VIcon.4c30e4d0.js";import"./tag.622ed0d5.js";import"./color.16bf09b2.js";import"./transition.c0b5a353.js";import"./loader.a28a0d31.js";import"./VProgressLinear.58e0b888.js";import"./rounded.2773415e.js";import"./index.26545022.js";import"./VBtn.b508a718.js";import"./elevation.c0c3c7d4.js";import"./router.4d4a04cb.js";import"./group.2a175b20.js";import"./index.8efa490c.js";import"./dimensions.85878954.js";import"./position.6ecf00cf.js";import"./VProgressCircular.a0eacb68.js";import"./resizeObserver.f5995fd7.js";import"./createSimpleFunctional.e260b764.js";import"./VAvatar.1cb02f40.js";import"./VImg.732dd834.js";const j=n("h1",{class:"text-h1 text-center mb-10"},"LOG IN",-1),z={class:"text-center text-deep-orange-darken-4 text-body-1 mb-3"},Ct={__name:"login",setup(E){const{handleSubmit:u,values:r,errors:i}=B({initialValues:{username:"",email:""},validationSchema:F().shape({username:c().matches(/^[a-zA-Z]+$/,'Username may only contain letters "a" to "z"').min(5).max(20).required().label("Username"),password:c().min(9).max(20).required().label("Password")})}),_=$(),m=N(""),d=S(()=>r.username&&r.username.includes("@")?r.username:`${r.username}@CBArchives.com`),f=u(l=>{I(_,d.value,l.password).then(()=>{L("/operations/control")}).catch(a=>{a&&(m.value="Sorry, something isn't quite right."),console.log(a)})});return(l,a)=>{const x=V,h=k,g=b,y=v,w=C;return A(),P(w,{name:"admin"},{default:e(()=>[t(T,{class:"my-5"},{default:e(()=>[t(p,null,{default:e(()=>[t(o,{cols:"12"},{default:e(()=>[t(O,{variant:"outlined",color:"primary",width:"100%",class:"pa-15 text-primary"},{default:e(()=>[j,n("div",null,[t(p,null,{default:e(()=>[t(o,{cols:"12",xl:"8",class:"offset-xl-2"},{default:e(()=>[t(x,{label:"Username *",name:"username",hint:"","error-messages":s(i).username},null,8,["error-messages"])]),_:1}),t(o,{cols:"12",xl:"8",class:"offset-xl-2"},{default:e(()=>[t(h,{name:"password",label:"Password *",hint:"Make it secure.",errors:s(i).password},null,8,["errors"])]),_:1}),t(o,{cols:"12",xl:"5",class:"offset-xl-2"},{default:e(()=>[n("p",z,U(m.value),1),t(g,{onClick:s(f),color:"primary-darken-1",class:"text-primary",text:"Log In"},null,8,["onClick"])]),_:1}),t(o,{cols:"12",xl:"3",class:"text-right text-subtitle-1 text-primary d-flex align-center justify-end"},{default:e(()=>[t(y,{class:"text-primary text-decoration-none",to:"/apply"},{default:e(()=>[q(" Or Sign Up ")]),_:1})]),_:1})]),_:1})])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}};export{Ct as default};
